/* BeOS Window Theme Styles */

/* Tab-style titlebar */
.unified-window .window-header {
  background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);
  border: 1px solid #999;
  border-bottom: none;
  border-radius: 8px 8px 0 0;
  padding: 4px 8px;
  margin: 0 4px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* 3D beveled frame around window content */
.unified-window {
  background: #f0f0f0;
  border: 2px solid;
  border-color: #fff #999 #999 #fff;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

/* Window content area */
.unified-window .window-content {
  background: #f0f0f0;
  border: 1px solid #999;
  margin: 0 4px 4px 4px;
  border-radius: 0 0 4px 4px;
}

/* Active window styles */
.unified-window.active .window-header {
  background: linear-gradient(to bottom, #4a90e2, #357abd);
  color: white;
}

.unified-window.active .window-title {
  color: white;
}

/* Window controls in BeOS style */
.unified-window .window-control {
  width: 12px;
  height: 12px;
  border: 1px solid;
  border-color: #fff #999 #999 #fff;
  background: #f0f0f0;
  box-shadow: inset 1px 1px 0 rgba(0, 0, 0, 0.1);
}

.unified-window .window-control:hover {
  background: #e0e0e0;
}

/* Close button specific style */
.unified-window .window-control[data-control="close"] {
  background: #ff6b6b;
}

.unified-window .window-control[data-control="close"]:hover {
  background: #ff5252;
}

/* Maximize button specific style */
.unified-window .window-control[data-control="maximize"] {
  background: #4caf50;
}

.unified-window .window-control[data-control="maximize"]:hover {
  background: #43a047;
}

/* Minimize button specific style */
.unified-window .window-control[data-control="minimize"] {
  background: #ffc107;
}

.unified-window .window-control[data-control="minimize"]:hover {
  background: #ffb300;
}

/* Resize handle positioning for BeOS theme - correctly positioned OUTSIDE the frame */
.theme-beos .resize-handle-t {
  top: 27px !important; /* 32px titlebar - 5px to reach outside the frame */
  right: -5px !important; /* Extend 5px beyond right edge */
  left: -5px !important; /* Extend 5px beyond left edge */
  height: 8px !important;
}

.theme-beos .resize-handle-r {
  top: 27px !important; /* 32px titlebar - 5px to reach outside */
  right: -5px !important; /* Extend 5px beyond right edge */
  bottom: -5px !important; /* Extend 5px beyond bottom edge */
  width: 8px !important;
}

.theme-beos .resize-handle-b {
  bottom: -5px !important; /* Extend 5px beyond bottom edge */
  right: -5px !important; /* Extend 5px beyond right edge */
  left: -5px !important; /* Extend 5px beyond left edge */
  height: 8px !important;
}

.theme-beos .resize-handle-l {
  top: 27px !important; /* 32px titlebar - 5px to reach outside */
  left: -5px !important; /* Extend 5px beyond left edge */
  bottom: -5px !important; /* Extend 5px beyond bottom edge */
  width: 8px !important;
}

/* Corner handles for BeOS theme */
.theme-beos .resize-handle-tl {
  top: 27px !important; /* 32px titlebar - 5px to reach outside */
  left: -5px !important; /* Extend 5px beyond left edge */
  width: 16px !important;
  height: 16px !important;
}

.theme-beos .resize-handle-tr {
  top: 27px !important; /* 32px titlebar - 5px to reach outside */
  right: -5px !important; /* Extend 5px beyond right edge */
  width: 16px !important;
  height: 16px !important;
}

.theme-beos .resize-handle-bl {
  bottom: -5px !important; /* Extend 5px beyond bottom edge */
  left: -5px !important; /* Extend 5px beyond left edge */
  width: 16px !important;
  height: 16px !important;
}

.theme-beos .resize-handle-br {
  bottom: -5px !important; /* Extend 5px beyond bottom edge */
  right: -5px !important; /* Extend 5px beyond right edge */
  width: 16px !important;
  height: 16px !important;
}

/* Make sure resize handles are visible and operational */
.theme-beos .resize-handle {
  background: transparent;
  opacity: 0.15 !important;
  pointer-events: auto !important;
  z-index: 1000;
}

.theme-beos .resize-handle:hover {
  opacity: 0.5 !important;
  background-color: rgba(0, 120, 255, 0.3);
}

/* Keep handles visible during dragging to prevent flickering */
.theme-beos .resize-handle:active,
.theme-beos .draggable-window.resizing .resize-handle {
  opacity: 0.75 !important;
  background-color: rgba(0, 120, 255, 0.5) !important;
  transition: none !important; /* Disable transitions during resize */
}

/* Make all resize handles more visible during resize operation */
.draggable-window.resizing .resize-handle {
  opacity: 0.6 !important;
  background-color: rgba(0, 120, 255, 0.4) !important;
  pointer-events: auto !important;
  z-index: 1000;
}

/* Ensure no handle visibility flickers in any theme */
.resize-handle:active {
  opacity: 0.75 !important;
  background-color: rgba(0, 120, 255, 0.5) !important;
  transition: none !important;
}
