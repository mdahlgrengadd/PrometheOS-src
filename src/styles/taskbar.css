@layer components {
  .taskbar {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    
    .theme-beos & {
      @apply bg-gray-200 border-t border-gray-400 p-1;
      color: var(--text-primary);
      box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .theme-light & {
      @apply bg-background/80 backdrop-blur-lg border-t border-border p-1;
      color: var(--text-primary);
      box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.05);
    }
    
    .theme-dark & {
      @apply bg-background/80 backdrop-blur-lg border-t border-border p-1;
      color: var(--foreground);
      box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.1);
    }
  }

  .taskbar-item {
    @apply cursor-pointer mx-1 flex items-center;
    
    .theme-beos & {
      @apply px-3 py-1.5 text-xs font-bold bg-gray-100 hover:bg-white border border-gray-300;
      color: var(--text-primary);
      min-width: 100px;
      height: 36px;
    }
    
    .theme-light & {
      @apply px-3 py-1.5 rounded-md text-sm border border-transparent hover:bg-accent hover:text-accent-foreground gap-2 transition-all duration-150;
      color: var(--text-primary);
      min-width: 120px;
      height: 36px;
      backdrop-filter: blur(8px);
    }
    
    .theme-dark & {
      @apply px-3 py-1.5 rounded-md text-sm border border-transparent hover:bg-accent hover:text-accent-foreground gap-2 transition-all duration-150;
      color: var(--foreground);
      min-width: 120px;
      height: 36px;
      backdrop-filter: blur(8px);
    }
  }
  
  .taskbar-item:hover {
    .theme-light &, .theme-dark & {
      @apply shadow-sm scale-105;
    }
  }
  
  .taskbar-item:active {
    .theme-light &, .theme-dark & {
      @apply scale-95;
    }
  }
  
  .taskbar-item.active {
    .theme-beos & {
      @apply bg-white;
    }
    
    .theme-light & {
      background-color: hsl(220 14.3% 95.9%) !important;
      color: hsl(220.9 39.3% 11%) !important;
      @apply border-border;
      opacity: 1 !important;
    }
    
    .theme-dark & {
      background-color: hsl(215 27.9% 16.9%) !important;
      color: hsl(210 20% 98%) !important;
      @apply border-border;
      opacity: 1 !important;
    }
  }
  
  .taskbar-item-icon {
    .theme-beos & {
      @apply w-4 h-4 mr-1;
    }
    
    .theme-light & {
      @apply w-5 h-5 text-muted-foreground;
    }
    
    .theme-dark & {
      @apply w-5 h-5 text-muted-foreground;
    }
  }
  
  .taskbar-separator {
    .theme-beos & {
      @apply w-px h-4 bg-gray-300 mx-1;
    }
    
    .theme-light & {
      @apply w-px h-6 bg-border mx-2 opacity-50;
    }
    
    .theme-dark & {
      @apply w-px h-6 bg-border mx-2 opacity-50;
    }
  }
  
  /* Start button styling */
  .taskbar-start {
    .theme-beos & {
      @apply bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-none px-2 flex items-center mr-auto;
      height: 36px;
    }
    
    .theme-light & {
      background-color: hsl(262.1 83.3% 57.8%) !important;
      color: hsl(210 20% 98%) !important;
      @apply font-medium rounded-md px-4 flex items-center mr-auto ml-1 transition-all duration-200;
      height: 36px;
      opacity: 1 !important;
    }
    
    .theme-dark & {
      background-color: hsl(263.4 70% 50.4%) !important;
      color: hsl(210 20% 98%) !important;
      @apply font-medium rounded-md px-4 flex items-center mr-auto ml-1 transition-all duration-200;
      height: 36px;
      opacity: 1 !important;
    }
  }
  
  .taskbar-start:hover {
    .theme-light & {
      background-color: hsl(262.1 83.3% 52%) !important;
    }
    
    .theme-dark & {
      background-color: hsl(263.4 70% 45%) !important;
    }
  }
}
